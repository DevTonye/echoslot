{% extends "base.html" %}
{% load static %}
{% block title %}Appointments - Service Provider Dashboard{% endblock %}
{% block extra_css %}<link rel="stylesheet" href="{% static 'services/appointments.css' %}">{% endblock %}
{% block content %}

<div id="modal-container"></div>
<main class="main">
    <h1 class="header-title">Appointments</h1>

     <!-- Appointment Tabs -->
    <div class="tabs-container">
    <button 
        class="tab-button active" 
        hx-get="today-appointments/" 
        hx-target="#appointment-content" 
        hx-swap="innerHTML"
        hx-trigger="click"
        hx-on:click="document.querySelectorAll('.tab-button').forEach(tab => tab.classList.remove('active')); this.classList.add('active')">
        <i class="fas fa-calendar-day"></i>
        Today's Appointments
        <div class="htmx-indicator">
            <i class="fas fa-spinner"></i>
        </div>
    </button>
    
    <button 
        class="tab-button" 
        hx-get="upcoming-appointments/" 
        hx-target="#appointment-content" 
        hx-swap="innerHTML"
        hx-trigger="click"
        hx-on:click="document.querySelectorAll('.tab-button').forEach(tab => tab.classList.remove('active')); this.classList.add('active')">
        <i class="fas fa-calendar-week"></i>
        Upcoming Appointments
        <div class="htmx-indicator">
            <i class="fas fa-spinner"></i>
        </div>
    </button>
    
    <button 
        class="tab-button" 
        hx-get="past-appointments/" 
        hx-target="#appointment-content" 
        hx-swap="innerHTML"
        hx-trigger="click"
        hx-on:click="document.querySelectorAll('.tab-button').forEach(tab => tab.classList.remove('active')); this.classList.add('active')">
        <i class="fas fa-history"></i>
        Past Appointments
        <div class="htmx-indicator">
            <i class="fas fa-spinner"></i>
        </div>
    </button>
</div>
    <div class="card">
        <div id="appointment-content">
           <div class="loading-container">
                <div class="spinner"></div>
                <p>Loading schedule...</p>
            </div>
        </div>
    </div>
{% endblock %}
</main>

{% block extra_js %}
<script src="{% static 'js/appointments.js'%}"></script>
{% endblock %}
